Question classification
=======================

For training question classifier we use data set obtained from here:
	
	http://cogcomp.cs.illinois.edu/Data/QA/QC/

The tsv files are not in suitable format for questionDump so we need to prepare them by following commands:

	wget http://cogcomp.cs.illinois.edu/Data/QA/QC/train_5500.label -P data/
	wget http://cogcomp.cs.illinois.edu/Data/QA/QC/TREC_10.label -P data/
	python make-4column-tsv.py data/train_5500.label > data/train-data.tsv
	python make-4column-tsv.py data/TREC_10.label > data/test-data.tsv

The we need to create json files with question features by following commands:

	cd ../../../
	./gradlew questionDump -PexecArgs="data/ml/qclass/data/train-data.tsv data/ml/qclass/data/train-data-corrupted.json"
	./gradlew questionDump -PexecArgs="data/ml/qclass/data/test-data.tsv data/ml/qclass/data/test-data-corrupted.json"
	cd data/ml/qclass
	python ../repair-json.py data/train-data-corrupted.json > data/train-data.json
	python ../repair-json.py data/test-data-corrupted.json > data/test-data.json

Now we can train the model and copy it into yodaqa:

	python train_question_classifier.py data/train-data.json data/train-data.tsv data/test-data.json data/test-data.tsv > question-classifier.model
	cp question-classifier.model src/main/resources/cz/brmlab/yodaqa/analysis/question/
 
Tha java implementation of question classification is stored in:

	src/main/java/cz/brmlab/yodaqa/analysis/question/ClassClassifier.java

The features derived from these classes are generated by:

	src/main/java/cz/brmlab/yodaqa/analysis/answer/QuestionClassFeatures.java

The experiments with classification are in ipython notebooks in https://github.com/brmson/question-classification repository.

Results
=======

The accuracy on test data set is around 86.4%. 

